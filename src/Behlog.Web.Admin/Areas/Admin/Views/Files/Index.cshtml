@model AdminFileUploadIndexViewModel
@{
    ViewData["Title"] = "مدیریت فایل";
}

<div class="grid grid-cols-12 gap-6 mt-8">
    
    <div class="col-span-12 lg:col-span-3 xxl:col-span-2">
        <h2 class="intro-y text-lg font-medium mr-auto mt-2">
            مدیریت فایل
        </h2>
        
        <div class="col-span-12 lg:col-span-9 xxl:col-span-10">
            <div class="mt-1">
                <a href="" class="flex items-center px-3 py-2 rounded-md bg-theme-25 text-white font-medium"> <i class="w-4 h-4 ml-2" data-feather="image"></i> تصاویر </a>
                <a href="" class="flex items-center px-3 py-2 mt-2 rounded-md"> <i class="w-4 h-4 ml-2" data-feather="video"></i> ویدئوها </a>
                <a href="" class="flex items-center px-3 py-2 mt-2 rounded-md"> <i class="w-4 h-4 ml-2" data-feather="file"></i> سندها </a>
                <a href="" class="flex items-center px-3 py-2 mt-2 rounded-md"> <i class="w-4 h-4 ml-2" data-feather="users"></i> اشتراک </a>
                <a href="" class="flex items-center px-3 py-2 mt-2 rounded-md"><i class="w-4 h-4 ml-2" data-feather="trash"></i> سطل آشغال </a>
            </div>
            <div class="border-t border-gray-200 dark:border-dark-5 mt-4 pt-4">
                <a href="" class="flex items-center px-3 py-2 rounded-md">
                    <div class="w-2 h-2 bg-theme-29 rounded-full ml-3"></div>
                    کار سفارشی 
                </a>
                <a href="" class="flex items-center px-3 py-2 mt-2 rounded-md">
                    <div class="w-2 h-2 bg-theme-20 rounded-full ml-3"></div>
                    قرار مهم 
                </a>
                <a href="" class="flex items-center px-3 py-2 mt-2 rounded-md">
                    <div class="w-2 h-2 bg-theme-15 rounded-full ml-3"></div>
                    کار
                </a>
                <a href="" class="flex items-center px-3 py-2 mt-2 rounded-md">
                    <div class="w-2 h-2 bg-theme-29 rounded-full ml-3"></div>
                    طراحی
                </a>
                <a href="" class="flex items-center px-3 py-2 mt-2 rounded-md">
                    <div class="w-2 h-2 bg-theme-21 rounded-full ml-3"></div>
                    هفته بعد  
                </a>
                <a href="" class="flex items-center px-3 py-2 mt-2 rounded-md"> <i class="w-4 h-4 ml-2" data-feather="plus"></i>افزودن برچسب جدید </a>
            </div>
        </div>
    </div>
    
    <div class="col-span-12 lg:col-span-9 xxl:col-span-10">
        <div class="intro-y flex flex-col-reverse sm:flex-row items-center">
            <div class="w-full sm:w-auto relative ml-auto mt-3 sm:mt-0">
                <i class="w-4 h-4 absolute my-auto inset-y-0 mr-3 right-0 z-10 text-gray-700 dark:text-gray-300" data-feather="search"></i> 
                <input asp-for="Search" type="text" class="form-control w-full sm:w-64 box px-10 text-gray-700 dark:text-gray-300 placeholder-theme-13" placeholder="جستجو فایل">
                <div class="inbox-filter dropdown absolute inset-y-0 ml-3 left-0 flex items-center" data-placement="bottom-start">
                    <i class="dropdown-toggle w-4 h-4 cursor-pointer text-gray-700 dark:text-gray-300" role="button" aria-expanded="false" data-feather="chevron-down"></i> 
                    <div class="inbox-filter__dropdown-menu dropdown-menu pt-2">
                        <div class="dropdown-menu__content box p-5">
                            <div class="grid grid-cols-12 gap-4 gap-y-3">
                                <div class="col-span-6">
                                    <label for="input-filter-1" class="form-label text-xs">نام فایل</label>
                                    <input id="input-filter-1" type="text" class="form-control flex-1" placeholder="نام فایل را تایپ کنید">
                                </div>
                                <div class="col-span-6">
                                    <label for="input-filter-2" class="form-label text-xs">اشتراک با</label>
                                    <input id="input-filter-2" type="text" class="form-control flex-1" placeholder="example@gmail.com">
                                </div>
                                <div class="col-span-6">
                                    <label for="input-filter-3" class="form-label text-xs">ساخته شده در</label>
                                    <input id="input-filter-3" type="text" class="form-control flex-1" placeholder="قرار مهم">
                                </div>
                                <div class="col-span-6">
                                    <label for="input-filter-4" class="form-label text-xs">اندازه</label>
                                    <select id="input-filter-4" class="form-select flex-1">
                                        <option>10</option>
                                        <option>25</option>
                                        <option>35</option>
                                        <option>50</option>
                                    </select>
                                </div>
                                <div class="col-span-12 flex items-center mt-3">
                                    <button class="btn btn-secondary w-32 ml-auto">ساخت فیلتر</button>
                                    <button class="btn btn-primary w-32 mr-2">جستجو</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="w-full sm:w-auto flex">
                <a data-toggle="modal" data-target="#upload-modal" class="btn btn-primary shadow-md ml-2">بارگذاری فایل های جدید</a>
                <div class="dropdown">
                    <button class="dropdown-toggle btn px-2 box text-gray-700 dark:text-gray-300" aria-expanded="false">
                        <span class="w-5 h-5 flex items-center justify-center"> <i class="w-4 h-4" data-feather="plus"></i> </span>
                    </button>
                    <div class="dropdown-menu w-40">
                        <div class="dropdown-menu__content box dark:bg-dark-1 p-2">
                            <a href="" class="flex items-center block p-2 transition duration-300 ease-in-out bg-white dark:bg-dark-1 hover:bg-gray-200 dark:hover:bg-dark-2 rounded-md"> <i data-feather="file" class="w-4 h-4 ml-2"></i>اشتراک فایل</a>
                            <a href="" class="flex items-center block p-2 transition duration-300 ease-in-out bg-white dark:bg-dark-1 hover:bg-gray-200 dark:hover:bg-dark-2 rounded-md"> <i data-feather="settings" class="w-4 h-4 ml-2"></i> تنظیمات </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        @if (Model.Data.Any())
        {
            <div class="intro-y grid grid-cols-12 gap-3 sm:gap-6 mt-5">
                @foreach (var file in Model.Data)
                {
                    <div class="intro-y col-span-6 sm:col-span-4 md:col-span-3 xxl:col-span-2">
                        <div class="file box rounded-md px-5 pt-8 pb-5 px-3 sm:px-5 relative zoom-in">
                            <div class="absolute right-0 top-0 mt-3 mr-3">
                                <input class="form-check-input border border-gray-500" type="checkbox">
                            </div>
                            <a href="" class="w-3/5 file__icon file__icon--empty-directory mx-auto"></a> <a href="" class="block font-medium mt-4 text-center truncate">
                                @file.Title
                            </a>
                            <div class="text-gray-600 text-xs text-center mt-0.5">
                                @file.FileSize.ToString()
                            </div>
                            <div class="absolute top-0 left-0 ml-2 mt-2 dropdown mr-auto">
                                <a class="dropdown-toggle w-5 h-5 block" href="javascript:;" aria-expanded="false"> <i data-feather="more-vertical" class="w-5 h-5 text-gray-600"></i> </a>
                                <div class="dropdown-menu w-40">
                                    <div class="dropdown-menu__content box dark:bg-dark-1 p-2">
                                        <a href="" class="flex items-center block p-2 transition duration-300 ease-in-out bg-white dark:bg-dark-1 hover:bg-gray-200 dark:hover:bg-dark-2 rounded-md"> <i data-feather="users" class="w-4 h-4 ml-2"></i>اشتراک فایل</a>
                                        <a href="" class="flex items-center block p-2 transition duration-300 ease-in-out bg-white dark:bg-dark-1 hover:bg-gray-200 dark:hover:bg-dark-2 rounded-md"> <i data-feather="trash" class="w-4 h-4 ml-2"></i> حذف </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>    
                }
            </div>
        }
        else
        {
            <div class="alert alert-warning alert-dismissible show flex items-center mb-2" role="alert" style="margin-top: 40px;">
                <i data-feather="alert-octagon" class="w-6 h-6 ml-2"></i>
                هیچ داده ای برای نمایش وجود ندارد.
                
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"> <i data-feather="x" class="w-4 h-4"></i> </button>
            </div>
        }
        
        @if (Model.TotalPages > 1)
        {
            <div class="intro-y flex flex-wrap sm:flex-row sm:flex-nowrap items-center mt-6">
                <ul class="pagination">
                    <li>
                        <a class="pagination__link" href=""> <i class="w-4 h-4" data-feather="chevrons-right"></i> </a>
                    </li>
                    <li>
                        <a class="pagination__link" href=""> <i class="w-4 h-4" data-feather="chevron-right"></i> </a>
                    </li>
                    <li> <a class="pagination__link" href="">...</a> </li>
                    <li> <a class="pagination__link" href="">1</a> </li>
                    <li> <a class="pagination__link pagination__link--active" href="">2</a> </li>
                    <li> <a class="pagination__link" href="">3</a> </li>
                    <li> <a class="pagination__link" href="">...</a> </li>
                    <li>
                        <a class="pagination__link" href=""> <i class="w-4 h-4" data-feather="chevron-left"></i> </a>
                    </li>
                    <li>
                        <a class="pagination__link" href=""> <i class="w-4 h-4" data-feather="chevrons-left"></i> </a>
                    </li>
                </ul>
                <select class="w-20 form-select box mt-3 sm:mt-0">
                    <option>10</option>
                    <option>25</option>
                    <option>35</option>
                    <option>50</option>
                </select>
            </div>
        }
        
    </div>
    
</div>

<partial name="_uploadView" model="new CreateFileUploadViewModel()" />

@section header
{
    <link rel="stylesheet" href="~/behlog/lib/sweetalert2/sweetalert2.min.css">
}

@section breadCrumb {
    <div class="-intro-x breadcrumb breadcrumb--light ml-auto">
        <a href="#">خانه</a>
        <i data-feather="chevron-left" class="breadcrumb__icon"></i> 
        <a href="#" class="breadcrumb--active">مدیریت فایل</a>
    </div>
}

@section footer
{
    <script type="text/javascript" src="~/behlog/lib/sweetalert2/sweetalert2.all.min.js"></script>

    <script type="text/javascript">
        $('#btnUpload').one('click', function() {
            if($('#FileData').val() == '') {
                $('#upload-msg').text('هیچ فایلی برای آپلود انتخاب نشد. لطفاَ‌ فایل خود را وارد کنید.');
                document.getElementById('upload-msg').classList.add('field-validation-error');
            }
        });
    </script>
}
